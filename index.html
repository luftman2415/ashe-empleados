<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Portal RRHH ASHE</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg">
        <div class="container">
            <img src="logo.png" alt="Logo ASHE" id="logo-ashe" style="height:48px; margin-right:16px;">
            <a class="navbar-brand" href="#">Portal RRHH ASHE</a>
            <div class="ms-auto d-flex align-items-center">
                <button id="btn-dashboard" class="btn btn-link nav-link d-none">Dashboard</button>
                <button id="btn-cumpleanos" class="btn btn-link nav-link d-none">Cumpleaños</button>
                <button id="btn-ausencias" class="btn btn-link nav-link d-none">Ausencias</button>
                <button id="btn-documentos" class="btn btn-link nav-link d-none">Documentos</button>
                <button id="btn-login" class="btn btn-link nav-link">Iniciar Sesión</button>
                <button id="btn-registro" class="btn btn-link nav-link">Registrarse</button>
                <button id="btn-logout" class="btn btn-logout d-none"><i class="bi bi-lock"></i> Cerrar Sesión</button>
            </div>
        </div>
    </nav>

    <!-- Banner -->
    <section id="portal-banner">
        <h1>Bienvenido al Portal de Recursos Humanos ASHE</h1>
        <p>Gestión integral de empleados, documentos, ausencias y más.</p>
    </section>

    <!-- Login Form -->
    <section id="login-form" class="mb-4">
        <form id="loginForm" autocomplete="off">
            <h2>Iniciar Sesión</h2>
            <div class="mb-3">
                <label for="email" class="form-label">Correo electrónico</label>
                <input type="email" class="form-control" id="email" required autocomplete="username">
            </div>
            <div class="mb-3 input-group">
                <label for="password" class="form-label w-100">Contraseña</label>
                <input type="password" class="form-control" id="password" required autocomplete="current-password">
                <button type="button" class="toggle-password" data-target="password" tabindex="-1">
                    <i class="bi bi-eye"></i>
                </button>
            </div>
            <div class="mb-3 text-end">
                <a href="#" id="forgot-password-link">¿Olvidaste tu contraseña?</a>
            </div>
            <button type="submit" class="btn btn-primary w-100">Entrar</button>
        </form>
    </section>

    <!-- Modal Olvidé mi contraseña -->
    <div id="forgot-password-modal" class="modal d-none" tabindex="-1" style="display:block; background:rgba(0,0,0,0.3); position:fixed; top:0; left:0; width:100vw; height:100vh; z-index:9999;">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content p-3">
                <div class="modal-header">
                    <h5 class="modal-title">Recuperar contraseña</h5>
                    <button type="button" class="btn-close" id="btn-cerrar-forgot"></button>
                </div>
                <form id="forgot-password-form">
                    <div class="modal-body">
                        <label for="forgot-email" class="form-label">Introduce tu correo electrónico</label>
                        <input type="email" class="form-control" id="forgot-email" required>
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-primary">Enviar</button>
                        <button type="button" class="btn btn-secondary" id="btn-cerrar-forgot">Cancelar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal Restablecer contraseña -->
    <div id="reset-password-modal" class="modal d-none" tabindex="-1" style="display:block; background:rgba(0,0,0,0.3); position:fixed; top:0; left:0; width:100vw; height:100vh; z-index:9999;">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content p-3">
                <div class="modal-header">
                    <h5 class="modal-title">Restablecer contraseña</h5>
                    <button type="button" class="btn-close" id="btn-cerrar-reset"></button>
                </div>
                <form id="reset-password-form">
                    <div class="modal-body">
                        <label for="reset-password" class="form-label">Nueva contraseña</label>
                        <input type="password" class="form-control" id="reset-password" required>
                        <label for="reset-password-confirm" class="form-label mt-2">Confirmar nueva contraseña</label>
                        <input type="password" class="form-control" id="reset-password-confirm" required>
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-primary">Restablecer</button>
                        <button type="button" class="btn btn-secondary" id="btn-cerrar-reset">Cancelar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Registro Form -->
    <section id="registro-form" class="mb-4 d-none">
        <form id="registroForm">
            <h2>Registro de Usuario</h2>
            <div class="mb-3">
                <label for="reg-email" class="form-label">Correo electrónico</label>
                <input type="email" class="form-control" id="reg-email" required>
            </div>
            <div class="mb-3 input-group">
                <label for="reg-password" class="form-label w-100">Contraseña</label>
                <input type="password" class="form-control" id="reg-password" required>
                <button type="button" class="toggle-password" data-target="reg-password" tabindex="-1">
                    <i class="bi bi-eye"></i>
                </button>
            </div>
            <div class="mb-3 input-group">
                <label for="reg-confirm-password" class="form-label w-100">Confirmar Contraseña</label>
                <input type="password" class="form-control" id="reg-confirm-password" required>
                <button type="button" class="toggle-password" data-target="reg-confirm-password" tabindex="-1">
                    <i class="bi bi-eye"></i>
                </button>
            </div>
            <button type="submit" class="btn btn-primary w-100">Registrarse</button>
            <button type="button" class="btn btn-secondary w-100 mt-2" id="btn-cancelar-registro">Cancelar</button>
        </form>
    </section>

    <!-- Dashboard -->
    <section id="dashboard" class="d-none">
        <div class="dashboard-cards mb-4">
            <div class="dashboard-card">
                <h2 id="dashboard-total-empleados">0</h2>
                <p>Total de empleados</p>
            </div>
            <div class="dashboard-card">
                <h2 id="dashboard-cumpleanos">0</h2>
                <p>Próximos cumpleaños</p>
            </div>
            <div class="dashboard-card">
                <h2 id="dashboard-usuarios">0</h2>
                <p>Usuarios registrados</p>
            </div>
        </div>
        <div class="text-center">
            <button id="btn-nuevo-empleado" class="btn btn-primary mb-3">Crear Nuevo Empleado</button>
            <button id="btn-ver-empleados" class="btn btn-secondary mb-3">Ver Empleados</button>
            <button id="btn-exportar-csv" class="btn btn-secondary mb-3">Exportar CSV</button>
        </div>
        <div class="text-center">
            <button id="btn-volver-dashboard" class="btn btn-cancelar">Volver</button>
        </div>
    </section>

    <!-- Lista de empleados -->
    <section id="empleados-list" class="d-none">
        <div class="mb-3">
            <input type="text" id="busqueda-empleados" class="form-control" placeholder="Buscar empleado...">
        </div>
        <div class="table-responsive">
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th>Nombres</th>
                        <th>Apellidos</th>
                        <th>Cédula</th>
                        <th>Teléfono</th>
                        <th>Email</th>
                        <th>Cargo</th>
                        <th>Departamento</th>
                        <th>Tipo Contrato</th>
                        <th>Salario</th>
                        <th>Fecha de Cumpleaños</th>
                        <th>Fecha de Ingreso</th>
                        <th>Notas/Acontecimientos</th>
                        <th>Hoja de Vida</th>
                        <th>Contacto Emergencia Nombre</th>
                        <th>Contacto Emergencia Teléfono</th>
                        <th>Contacto Emergencia Parentesco</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody id="empleados-table-body"></tbody>
            </table>
        </div>
        <div class="text-center">
            <button id="btn-cancelar" class="btn btn-cancelar">Volver</button>
        </div>
    </section>

    <!-- Vista individual de empleado -->
    <section id="empleado-detalle" class="d-none">
        <div class="card mt-4 mb-4 mx-auto" style="max-width:600px;">
            <div class="card-body" id="empleado-detalle-body">
                <!-- Aquí se carga la información del empleado -->
            </div>
        </div>
        <div class="text-center">
            <button id="btn-volver-empleados" class="btn btn-cancelar">Volver a empleados</button>
        </div>
    </section>

    <!-- Formulario de empleado -->
    <section id="empleado-form" class="d-none">
        <form id="empleadoForm" enctype="multipart/form-data">
            <h2>Datos del Empleado</h2>
            <div class="mb-3">
                <label for="nombres" class="form-label">Nombres</label>
                <input type="text" class="form-control" id="nombres" required>
            </div>
            <div class="mb-3">
                <label for="apellidos" class="form-label">Apellidos</label>
                <input type="text" class="form-control" id="apellidos" required>
            </div>
            <div class="mb-3">
                <label for="cedula" class="form-label">Cédula</label>
                <input type="text" class="form-control" id="cedula" required>
            </div>
            <div class="mb-3">
                <label for="telefono" class="form-label">Teléfono</label>
                <input type="text" class="form-control" id="telefono" required>
            </div>
            <div class="mb-3">
                <label for="email-empleado" class="form-label">Email</label>
                <input type="email" class="form-control" id="email-empleado" required>
            </div>
            <div class="mb-3">
                <label for="cargo" class="form-label">Cargo</label>
                <input type="text" class="form-control" id="cargo">
            </div>
            <div class="mb-3">
                <label for="departamento" class="form-label">Departamento</label>
                <input type="text" class="form-control" id="departamento">
            </div>
            <div class="mb-3">
                <label for="tipo-contrato" class="form-label">Tipo de Contrato</label>
                <input type="text" class="form-control" id="tipo-contrato">
            </div>
            <div class="mb-3">
                <label for="salario" class="form-label">Salario</label>
                <input type="text" class="form-control" id="salario" pattern="^\d{1,3}(\.\d{3})*(\,\d+)?$" placeholder="Ej: 1.000.000" inputmode="numeric">
            </div>
            <div class="mb-3">
                <label for="fecha-nacimiento" class="form-label">Fecha de Cumpleaños</label>
                <input type="date" class="form-control" id="fecha-nacimiento">
            </div>
            <div class="mb-3">
                <label for="fecha-ingreso" class="form-label">Fecha de Ingreso</label>
                <input type="date" class="form-control" id="fecha-ingreso">
            </div>
            <div class="mb-3">
                <label for="notas" class="form-label">Notas / Acontecimientos</label>
                <textarea class="form-control" id="notas" rows="2" placeholder="Ejemplo: Ascenso, reconocimiento, amonestación, etc."></textarea>
            </div>
            <div class="mb-3">
                <label for="hoja-de-vida" class="form-label">Adjuntar Hoja de Vida (PDF)</label>
                <input type="file" class="form-control" id="hoja-de-vida" accept="application/pdf">
            </div>
            <div class="mb-3">
                <label class="form-label">Contacto de Emergencia</label>
                <input type="text" class="form-control mb-2" id="contacto-emergencia-nombre" placeholder="Nombre">
                <input type="text" class="form-control mb-2" id="contacto-emergencia-telefono" placeholder="Teléfono">
                <input type="text" class="form-control" id="contacto-emergencia-parentesco" placeholder="Parentesco">
            </div>
            <button type="submit" class="btn btn-primary w-100">Guardar</button>
            <button type="button" class="btn btn-cancelar w-100 mt-2" id="btn-cancelar">Cancelar</button>
        </form>
    </section>

    <!-- Cumpleaños -->
    <section id="cumpleanos-list" class="d-none">
        <h3>Próximos Cumpleaños</h3>
        <div class="table-responsive">
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th>Empleado</th>
                        <th>Fecha de Nacimiento</th>
                        <th>Días Restantes</th>
                    </tr>
                </thead>
                <tbody id="cumpleanos-table-body"></tbody>
            </table>
        </div>
        <div class="text-center">
            <button id="btn-volver-dashboard-cumple" class="btn btn-cancelar">Volver</button>
        </div>
    </section>

    <!-- Ausencias -->
    <section id="ausencias-list" class="d-none">
        <h3>Gestión de Ausencias y Vacaciones</h3>
        <form id="ausenciaForm" class="mb-3">
            <div class="row">
                <div class="col-md-4 mb-2">
                    <input type="text" class="form-control" id="ausencia-nombre" placeholder="Nombre empleado" required>
                </div>
                <div class="col-md-4 mb-2">
                    <input type="date" class="form-control" id="ausencia-fecha" required>
                </div>
                <div class="col-md-4 mb-2">
                    <select class="form-select" id="ausencia-tipo" required>
                        <option value="">Tipo</option>
                        <option value="Vacaciones">Vacaciones</option>
                        <option value="Incapacidad">Incapacidad</option>
                        <option value="Permiso">Permiso</option>
                        <option value="Otro">Otro</option>
                    </select>
                </div>
            </div>
            <button type="submit" class="btn btn-primary mt-2">Registrar Ausencia</button>
        </form>
        <div class="table-responsive">
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th>Empleado</th>
                        <th>Fecha</th>
                        <th>Tipo</th>
                    </tr>
                </thead>
                <tbody id="ausencias-table-body"></tbody>
            </table>
        </div>
        <div class="text-center">
            <button id="btn-volver-dashboard-ausencias" class="btn btn-cancelar">Volver</button>
        </div>
    </section>

    <!-- Contacto -->
    <section id="contacto" class="container mb-4">
        <div class="card mt-4">
            <div class="card-body">
                <h5 class="card-title"><i class="bi bi-person-lines-fill"></i> Contacto RRHH</h5>
                <p class="card-text mb-1"><i class="bi bi-envelope"></i> caccali@ashe.com.co</p>
                <p class="card-text mb-1"><i class="bi bi-telephone"></i> +57 (602) 524 40 44</p>
                <p class="card-text"><i class="bi bi-geo-alt"></i> Carrera 35 # 12 – 145, Zona Industrial, Arroyohondo, Yumbo – Valle, Colombia</p>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div>© 2025 ASHE - Portal de Recursos Humanos</div>
    </footer>

    <!-- Alerta visual -->
    <div id="alerta-visual" style="display:none;"></div>

    <!-- JS -->
    <script src="app.js"></script>
</body>
</html>
