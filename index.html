<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Portal RRHH ASHE</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://cdn.datatables.net/1.13.7/css/dataTables.bootstrap5.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <nav class="navbar navbar-expand-lg">
        <div class="container">
            <div class="logo-container">
                <a href="https://ashe.com.co" target="_blank">
                    <div class="logo-circle-wrapper"> <img src="logo.png" alt="Logo ASHE" id="logo-ashe">
                    </div>
                </a>
            </div>
            <a class="navbar-brand" href="https://ashe.com.co" target="_blank">Portal RRHH ASHE</a>
            <div class="ms-auto d-flex align-items-center">
                <nav aria-label="breadcrumb" class="d-none d-lg-block me-3">
                    <ol class="breadcrumb mb-0">
                        <li class="breadcrumb-item"><a href="#" id="breadcrumb-home-link">Inicio</a></li>
                        <li class="breadcrumb-item" id="breadcrumb-section"></li>
                    </ol>
                </nav>
                <button id="btn-dashboard" class="btn btn-link nav-link d-none">
                    <i class="bi bi-speedometer2"></i> Dashboard
                </button>
                <button id="btn-empleados" class="btn btn-link nav-link d-none">
                    <i class="bi bi-people"></i> Empleados
                </button>
                <button id="btn-cumpleanos" class="btn btn-link nav-link d-none">
                    <i class="bi bi-gift"></i> Cumpleaños
                </button>
                <button id="btn-ausencias" class="btn btn-link nav-link d-none">
                    <i class="bi bi-calendar-check"></i> Ausencias
                </button>
                <button id="btn-login" class="btn btn-link nav-link">
                    <i class="bi bi-box-arrow-in-right"></i> Iniciar Sesión
                </button>
                <button id="btn-registro" class="btn btn-link nav-link">
                    <i class="bi bi-person-plus"></i> Registrarse
                </button>
                <button id="btn-logout" class="btn btn-logout d-none">
                    <i class="bi bi-lock"></i> Cerrar Sesión
                </button>
            </div>
        </div>
    </nav>

    <main class="container my-4">
        <section id="portal-banner" class="p-4 text-center text-white">
            <h1>Bienvenido al Portal de Recursos Humanos ASHE</h1>
            <p>Gestión integral de empleados, documentos, ausencias y más.</p>
        </section>

        <section id="empleado-form" class="mb-4 d-none">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h3 class="card-title mb-0">
                        <i class="bi bi-person-plus"></i> Datos del Empleado
                    </h3>
                </div>
                <div class="card-body">
                    <form id="empleadoForm" enctype="multipart/form-data">
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="nombres" class="form-label">Nombres</label>
                                <input type="text" class="form-control" id="nombres" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="apellidos" class="form-label">Apellidos</label>
                                <input type="text" class="form-control" id="apellidos" required>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4 mb-3">
                                <label for="cedula" class="form-label">Cédula</label>
                                <input type="text" class="form-control" id="cedula" required>
                            </div>
                            <div class="col-md-4 mb-3">
                                <label for="telefono" class="form-label">Teléfono</label>
                                <input type="text" class="form-control" id="telefono" required>
                            </div>
                            <div class="col-md-4 mb-3">
                                <label for="email-empleado" class="form-label">Email</label>
                                <input type="email" class="form-control" id="email-empleado" required>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4 mb-3">
                                <label for="cargo" class="form-label">Cargo</label>
                                <input type="text" class="form-control" id="cargo">
                            </div>
                            <div class="col-md-4 mb-3">
                                <label for="departamento" class="form-label">Departamento</label>
                                <input type="text" class="form-control" id="departamento">
                            </div>
                            <div class="col-md-4 mb-3">
                                <label for="tipoContrato" class="form-label">Tipo de Contrato</label>
                                <input type="text" class="form-control" id="tipoContrato">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4 mb-3">
                                <label for="salario" class="form-label">Salario</label>
                                <input type="text" class="form-control" id="salario"
                                       pattern="^\d{1,3}(\.\d{3})*(\,\d+)?$"
                                       placeholder="Ej: 1.000.000">
                            </div>
                            <div class="col-md-4 mb-3">
                                <label for="fechaNacimiento" class="form-label">Fecha de Nacimiento</label>
                                <input type="date" class="form-control" id="fechaNacimiento">
                            </div>
                            <div class="col-md-4 mb-3">
                                <label for="fechaIngreso" class="form-label">Fecha de Ingreso</label>
                                <input type="date" class="form-control" id="fechaIngreso">
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="notas" class="form-label">Notas / Acontecimientos</label>
                            <textarea class="form-control" id="notas" rows="3"
                                      placeholder="Ejemplo: Ascenso, reconocimiento, amonestación, etc."></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="hoja-de-vida" class="form-label">Hoja de Vida</label> <input type="file" class="form-control" id="hoja-de-vida" accept=".pdf, .doc, .docx, .xls, .xlsx, application/pdf, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet">
                        </div>
                        <div class="card mb-3">
                            <div class="card-header">
                                <h5 class="mb-0">Contacto de Emergencia</h5> </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-4 mb-3">
                                        <input type="text" class="form-control" id="contactoEmergenciaNombre"
                                               placeholder="Nombre">
                                    </div>
                                    <div class="col-md-4 mb-3">
                                        <input type="text" class="form-control" id="contactoEmergenciaTelefono"
                                               placeholder="Teléfono">
                                    </div>
                                    <div class="col-md-4 mb-3">
                                        <input type="text" class="form-control" id="contactoEmergenciaParentesco"
                                               placeholder="Parentesco">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="text-end">
                            <button type="submit" class="btn btn-primary">
                                <i class="bi bi-save"></i> Guardar
                            </button>
                            <button type="button" class="btn btn-secondary" id="btn-cancelar">
                                <i class="bi bi-x-circle"></i> Cancelar
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </section>
        <section id="login-form" class="mb-4">
            <div class="card">
                 <div class="card-body">
                      <form id="loginForm" autocomplete="off">
                          <h2 class="card-title text-center mb-4"><i class="bi bi-person-circle"></i> Iniciar Sesión</h2>
                          <div class="mb-3">
                              <label for="email" class="form-label">Correo electrónico</label>
                              <div class="input-group">
                                  <span class="input-group-text"><i class="bi bi-envelope"></i></span>
                                  <input type="email" class="form-control" id="email" required autocomplete="username">
                              </div>
                          </div>
                          <div class="mb-3">
                              <label for="password" class="form-label">Contraseña</label>
                              <div class="input-group">
                                  <span class="input-group-text"><i class="bi bi-key"></i></span>
                                  <input type="password" class="form-control" id="password" required autocomplete="current-password">
                                  <button type="button" class="btn btn-outline-secondary toggle-password" data-target="password" tabindex="-1">
                                      <i class="bi bi-eye"></i>
                                  </button>
                              </div>
                          </div>
                          <div class="mb-3 text-end">
                              <a href="#" id="forgot-password-link">¿Olvidaste tu contraseña?</a>
                          </div>
                          <button type="submit" class="btn btn-primary w-100">
                              <i class="bi bi-box-arrow-in-right"></i> Entrar
                          </button>
                      </form>
                 </div>
            </div>
        </section>

        <div id="reset-password-modal" class="modal fade" tabindex="-1">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">
                             <i class="bi bi-key"></i> Restablecer contraseña
                        </h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <form id="reset-password-form">
                        <div class="modal-body">
                            <p id="reset-message" class="text-muted"></p>
                            <div class="mb-3">
                                 <label for="reset-email" class="form-label">Correo electrónico</label>
                                <input type="email" class="form-control" id="reset-email" required>
                            </div>
                            <div id="reset-password-fields" class="d-none">
                                <div class="mb-3">
                                     <label for="new-password" class="form-label">Nueva contraseña</label>
                                     <div class="input-group">
                                         <input type="password" class="form-control" id="new-password" required>
                                         <button type="button" class="btn btn-outline-secondary toggle-password" data-target="new-password">
                                              <i class="bi bi-eye"></i>
                                          </button>
                                      </div>
                                 </div>
                                 <div class="mb-3">
                                      <label for="confirm-password" class="form-label">Confirmar contraseña</label>
                                      <div class="input-group">
                                          <input type="password" class="form-control" id="confirm-password" required>
                                          <button type="button" class="btn btn-outline-secondary toggle-password" data-target="confirm-password">
                                               <i class="bi bi-eye"></i>
                                           </button>
                                       </div>
                                  </div>
                             </div>
                         </div>
                         <div class="modal-footer">
                              <button type="submit" class="btn btn-primary" id="reset-request-btn">Continuar</button>
                              <button type="button" class="btn btn-primary d-none" id="reset-confirm-btn">Restablecer</button>

                              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                          </div>
                      </form>
                 </div>
             </div>
         </div>


         <section id="registro-form" class="mb-4 d-none">
             <div class="card">
                 <div class="card-body">
                      <form id="registroForm">
                          <h2 class="card-title text-center mb-4"><i class="bi bi-person-plus"></i> Registro de Usuario</h2>
                          <div class="mb-3">
                               <label for="new-email" class="form-label">Correo electrónico</label>
                               <div class="input-group">
                                   <span class="input-group-text"><i class="bi bi-envelope"></i></span>
                                   <input type="email" class="form-control" id="new-email" required>
                               </div>
                          </div>
                           <div class="mb-3">
                               <label for="new-password-reg" class="form-label">Contraseña</label>
                               <div class="input-group">
                                   <span class="input-group-text"><i class="bi bi-key"></i></span>
                                   <input type="password" class="form-control" id="new-password-reg" required>
                                    <button type="button" class="btn btn-outline-secondary toggle-password" data-target="new-password-reg">
                                         <i class="bi bi-eye"></i>
                                     </button>
                                 </div>
                             </div>
                             <div class="mb-3">
                                 <label for="confirm-password-reg" class="form-label">Confirmar Contraseña</label>
                                 <div class="input-group">
                                     <span class="input-group-text"><i class="bi bi-key"></i></span>
                                     <input type="password" class="form-control" id="confirm-password-reg" required>
                                     <button type="button" class="btn btn-outline-secondary toggle-password" data-target="confirm-password-reg">
                                          <i class="bi bi-eye"></i>
                                      </button>
                                  </div>
                             </div>
                           <button type="submit" class="btn btn-primary w-100">
                               <i class="bi bi-person-plus"></i> Registrarse
                            </button>
                           <button type="button" class="btn btn-secondary w-100 mt-2" id="btn-cancelar-registro">
                               <i class="bi bi-x-circle"></i> Cancelar
                            </button>
                       </form>
                   </div>
              </div>
          </section>

          <section id="dashboard" class="d-none">
              <div class="dashboard-cards mb-4 row">
                  <div class="col-md-4 mb-3">
                       <div class="dashboard-card card text-center p-3">
                           <div class="card-body p-2">
                               <div class="card-icon"><i class="bi bi-people"></i></div>
                                <h2 class="card-title" id="dashboard-total-empleados">0</h2>
                               <p class="card-text">Total de empleados</p>
                            </div>
                        </div>
                   </div>
                    <div class="col-md-4 mb-3" id="dashboard-cumpleanos-card">
                        <div class="dashboard-card card text-center p-3">
                             <div class="card-body p-2">
                                 <div class="card-icon"><i class="bi bi-gift"></i></div>
                                 <h2 class="card-title" id="dashboard-cumpleanos">0</h2>
                                 <p class="card-text">Próximos cumpleaños</p>
                             </div>
                         </div>
                     </div>
                     <div class="col-md-4 mb-3" id="dashboard-usuarios-card">
                         <div class="dashboard-card card text-center p-3">
                              <div class="card-body p-2">
                                  <div class="card-icon"><i class="bi bi-person-check"></i></div>
                                  <h2 class="card-title" id="dashboard-usuarios">0</h2>
                                  <p class="card-text">Usuarios registrados</p>
                              </div>
                          </div>
                      </div>
                  </div>
                  <div id="cumpleanos-notificaciones" class="card card-body mt-4 d-none">
                      </div>

               <div class="text-center mt-4">
                   <button id="btn-nuevo-empleado" class="btn btn-primary mx-2 mb-2">
                        <i class="bi bi-person-plus"></i> Crear Nuevo Empleado
                    </button>
                   <button id="btn-ver-empleados" class="btn btn-info mx-2 mb-2">
                        <i class="bi bi-list"></i> Ver Empleados
                    </button>
                   <button id="btn-exportar-csv" class="btn btn-success mx-2 mb-2">
                        <i class="bi bi-file-earmark-excel"></i> Exportar CSV
                    </button>
                </div>
            </section>

            <section id="empleados-list" class="mb-4 d-none">
                <div class="card">
                    <div class="card-header bg-primary text-white">
                        <h3 class="card-title mb-0">
                            <i class="bi bi-people"></i> Lista de Empleados </h3>
                    </div>
                    <div class="card-body">
                        <div class="row mb-3 align-items-center">
                            <div class="col-md-3 mb-2">
                                <label for="busqueda-empleados" class="form-label visually-hidden">Buscar Empleados</label>
                                <div class="input-group">
                                    <span class="input-group-text"><i class="bi bi-search"></i></span>
                                    <input type="text" id="busqueda-empleados" class="form-control" placeholder="Buscar...">
                                </div>
                            </div>
                            <div class="col-md-3 mb-2">
                                 <label for="filtro-departamento" class="form-label visually-hidden">Filtrar por Departamento</label>
                                <select id="filtro-departamento" class="form-select">
                                    <option value="">Todos los departamentos</option>
                                    </select>
                               </div>
                            <div class="col-md-3 mb-2">
                                <label for="filtro-antiguedad" class="form-label visually-hidden">Filtrar por Antigüedad</label>
                                <select id="filtro-antiguedad" class="form-select">
                                    <option value="">Todas las antigüedades</option>
                                    <option value="0-1">Menos de 1 año</option>
                                    <option value="1-3">1 a 3 años</option>
                                    <option value="3-5">3 a 5 años</option>
                                    <option value="5+">Más de 5 años</option>
                                 </select>
                             </div>
                             <div class="col-md-3 text-md-end mb-2">
                                <button id="btn-nuevo-empleado-lista" class="btn btn-primary w-100 w-md-auto">
                                     <i class="bi bi-person-plus"></i> Nuevo Empleado
                                  </button>
                             </div>
                         </div>
                         <div class="table-responsive">
                            <table id="empleados-table" class="table table-hover w-100">
                                <thead>
                                    <tr>
                                        <th>Nombres</th>
                                        <th>Apellidos</th>
                                        <th>Cédula</th>
                                        <th>Teléfono</th>
                                        <th>Email</th>
                                        <th>Cargo</th>
                                        <th>Departamento</th>
                                        <th>Antigüedad</th>
                                        <th>Acciones</th>
                                     </tr>
                                 </thead>
                                 <tbody id="empleados-table-body">
                                     </tbody>
                               </table>
                          </div>
                      </div>
                  </div>
              </section>

              <section id="empleado-detalle" class="mb-4 d-none">
                  <div class="card">
                      <div class="card-header bg-primary text-white">
                          <h3 class="card-title mb-0">
                               <i class="bi bi-person-vcard"></i> Detalle del Empleado
                           </h3>
                       </div>
                       <div class="card-body" id="empleado-detalle-body">
                           </div>
                       <div class="card-footer text-end">
                            <button id="btn-editar-desde-detalle" class="btn btn-primary">
                               <i class="bi bi-pencil"></i> Editar
                            </button>
                           <button id="btn-volver-desde-detalle" class="btn btn-secondary">
                                <i class="bi bi-arrow-left"></i> Volver
                            </button>
                       </div>
                   </div>
               </section>


               <section id="cumpleanos-list" class="mb-4 d-none">
                   <div class="card">
                       <div class="card-header bg-primary text-white">
                           <h3 class="card-title mb-0">
                               <i class="bi bi-gift"></i> Próximos Cumpleaños </h3>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-hover w-100">
                                    <thead>
                                         <tr>
                                             <th>Empleado</th>
                                             <th>Fecha de Nacimiento</th>
                                             <th>Días Restantes</th>
                                         </tr>
                                     </thead>
                                     <tbody id="cumpleanos-table-body">
                                      </tbody>
                                </table>
                             </div>
                         </div>
                     </div>
                 </section>

                 <section id="ausencias-list" class="mb-4 d-none">
                     <div class="card">
                         <div class="card-header bg-primary text-white">
                             <h3 class="card-title mb-0">
                                 <i class="bi bi-calendar-check"></i> Gestión de Ausencias </h3>
                         </div>
                         <div class="card-body">
                             <form id="ausenciaForm" class="mb-3">
                                 <div class="row">
                                     <div class="col-md-4 mb-2">
                                          <label for="ausencia-nombre" class="form-label visually-hidden">Nombre empleado</label>
                                         <input type="text" class="form-control" id="ausencia-nombre"
                                                placeholder="Nombre empleado" required>
                                      </div>
                                      <div class="col-md-4 mb-2">
                                          <label for="ausencia-fecha" class="form-label visually-hidden">Fecha Ausencia</label>
                                          <input type="date" class="form-control" id="ausencia-fecha" required>
                                      </div>
                                      <div class="col-md-4 mb-2">
                                          <label for="ausencia-tipo" class="form-label visually-hidden">Tipo de ausencia</label>
                                          <select class="form-select" id="ausencia-tipo" required>
                                              <option value="">Tipo de ausencia</option>
                                              <option value="Vacaciones">Vacaciones</option>
                                              <option value="Incapacidad">Incapacidad</option>
                                              <option value="Permiso">Permiso</option>
                                              <option value="Otro">Otro</option>
                                           </select>
                                       </div>
                                   </div>
                                   <div class="text-end mt-3">
                                       <button type="submit" class="btn btn-primary">
                                           <i class="bi bi-plus-circle"></i> Registrar Ausencia
                                        </button>
                                    </div>
                                </form>
                                <div class="table-responsive">
                                    <table class="table table-hover w-100">
                                        <thead>
                                             <tr>
                                                 <th>Empleado</th>
                                                 <th>Fecha</th>
                                                 <th>Tipo</th>
                                                 <th>Acciones</th>
                                             </tr>
                                         </thead>
                                         <tbody id="ausencias-table-body">
                                          </tbody>
                                    </table>
                                 </div>
                             </div>
                         </div>
                     </section>

                     <section id="contacto" class="mb-4">
                         <div class="card mt-4">
                             <div class="card-header">
                                 <h5 class="card-title mb-0"> <i class="bi bi-person-lines-fill"></i> Contacto RRHH </h5>
                              </div>
                              <div class="card-body">
                                   <p class="card-text mb-1">
                                        <i class="bi bi-envelope me-2"></i> caccali@ashe.com.co
                                   </p>
                                   <p class="card-text mb-1">
                                        <i class="bi bi-telephone me-2"></i> +57 (602) 524 40 44
                                     </p>
                                    <p class="card-text">
                                         <i class="bi bi-geo-alt me-2"></i> Carrera 35 # 12 – 145, Zona Industrial, Arroyohondo, Yumbo – Valle, Colombia
                                     </p>
                                 </div>
                             </div>
                          </section>

                      </main>

                      <footer class="footer text-center p-3 mt-4">
                           <div>© 2025 ASHE - Portal de Recursos Humanos</div>
                       </footer>

                       <div id="alerta-container" class="position-fixed bottom-0 end-0 m-3" style="z-index: 1050;">
                            </div>


                           <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
                           <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
                           <script src="https://cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js"></script>
                           <script src="https://cdn.datatables.net/1.13.7/js/dataTables.bootstrap5.min.js"></script>
                           <script src="app.js"></script>
                       </body>
                       </html>
